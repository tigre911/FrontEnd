<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
   #main{
      width: 350px;
      padding: 20px;
      margin: 50px auto;
      border: 1px solid #ddd;
      overflow: auto;
      text-align: center;
   }
   #main>div{
      float: left;
      width: 50%;
   }
   #main>div>input {
      width: 80%;
   }

</style>
<script type="text/javascript">
	function emailSplit() {
		var email = document.getElementById("email").value;
		var id = document.getElementById("id");
		var domain = document.getElementById("domain");

		var atMarkStart = email.indexOf("@");
        var atMarkEnd = email.lastIndexOf("@");
        
        var point = email.indexOf(".");
        
        console.log(atMarkStart, atMarkEnd);
        if(email.indexOf("@")==-1 || atMarkStart!=atMarkEnd || point<atMarkStart || Math.abs(atMarkStart-point)<2){ //@가 있는지 확인
            alert("이메일을 잘못입력하였습니다.");
            return;
        }
		
		var emailCut = email.split("@");
		id.value = emailCut[0];
		domain.value = emailCut[1];
		
		document.getElementById("email").value="";
	}
</script>
</head>
<body>
<div id="main">
	이메일
	<input type="text" name="email" id="email"/>
	<input type="button" value="click" onclick="emailSplit()">
	<hr/>
	<div>
		아이디<br>
		<input type="text" name="id" id="id">
	</div>
	<div>
		도메인<br>
		<input type="text" name="domain" id="domain">
	</div>
</div>
</body>
</html>